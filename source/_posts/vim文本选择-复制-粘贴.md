---
title: vim文本选择/复制/粘贴
date: 2016-06-14 07:08:46
tags: [vim]  
categories: [技术]
---
# 可视化模式
```
v        按字符选择，可精确的字符选中  
V        按行选择，一行一行的选中
ctrl+v   按矩形框选择，构造一个矩形框选择    
```
# 几个命令复习  
```
r 替换光标处字符命令，替换后还是命令模式    
s 删除光标处字符开始进入修改编辑模式
ctrl+r 恢复对u命令的使用  
yy 复制当前行的内容到vi缓冲区  
yw 复制当前光标所在位置到单词尾字符的内容到vi缓冲区  
y$ 复制当前光标位置到行尾  
y^ 复制行首到当前光标位置前一字符处  
5yy 复制5行  
5yw 复制5个单词  
:3,5y 复制第3行到第5行的内容到缓冲区(末行模式)  
:s/old/new/c  当前行替换操作，加c确认后才替换  
:s/old/new/gc
:sp filename 在同一编辑窗口中打开第二个文件，可用ctrl+w来切换     
:!cmd   在vim系统中执行系统命令
```
# 临时文件操作  
```
O 只读打开，不能改变文件内容  
E 继续编辑，不恢复.swp文件保存的内容  
R 将恢复上次编辑未保存的内容  
Q 退出vim 
D 删除.swp文件  
vim -r filename 恢复未保存内容  
```
# vim常用命令复习  
1. 在代码块中来回切换  
```
命令模式下输入 %   
输入{ ，跳转到上一个段落  
输入}， 跳转到下一个段落  
```
2. 检查当前编辑(比如C/C++)源文件所有的include文件路径是否都存在  
```
:checkpath
```
3. 文本折叠  
```
自动折叠设置  
:set foldmethod=indent
:set foldenable
创建折叠后，移动鼠标到折叠行，normal模式下输入:  
zo      #打开鼠标所在处的折叠  
zc      #关闭鼠标所在处的最小折叠    
zM      #关闭文件中所有的折叠
zR      #打开文件中所有的折叠  
za      #以toggle的方式打开和关闭折叠  
```
4. 设置paste剪贴板的数据，以保持原格式  
```
set paste
```
5. 使用命令
```
gd  跳转到变量声明，并高亮所有使用该变量的地方  
gg=G 全篇自动缩进，按gg时首先会跳转到文件首行  
=G  鼠标所在行单行缩进
ctrl+]  #定位到函数原型处  
ctrl+t  #回到上一次跳转处  
ctrl+p #自动补全(编码状态)
```
