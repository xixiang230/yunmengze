---
title: linux的感叹号命令
date: 2016-06-15 23:39:00
tags: [linux]
categories: [技术]
---
感叹号(!)在shell中称之为事件指示器，用以对历史执行命令条目的引用。
```
!!      #引用上一条命令(等效于!-1)  
!cp     #引用最近以cp开头的历史执行命令  
!?cp[?]  引用最近包含cp的命令
```
把感叹号"!"放在双引号里，执行命令会出错，比如: echo "hello!"，单如果是在一个脚本文件里则没有问题，因为在脚本文件中，bash的历史机制被禁用。  
# 从历史记录中使用命令号来运行命令  
```
history        #先执行history查看历史执行命令的命令号
!8036          #感叹号+命令号，执行该条历史命令(正着来)  
!-1            #执行历史执行命令记录中的倒数第一条(倒着来，用负数表示，等效于 !!)
!-2
```
# 命令参数复用    
1. !$复用上一次执行只带一个参数的命令参数  
```
ls baidu
ls -l !$    #!$等效于取上一条命令的第一个参数=>  ls -l baidu
```
2. 多参数复用
```
cp file dir
!^      #上次执行命令的第一个参数
!cp:2   #感叹号+命令名:参数序号n，复用上次执行命令的第n个参数  
!*      #复用上次执行命令的所有参数  
```

